---
title: Determinants and Configuration State Functions
tags:
    - determinant
    - csf
    - csfmap
    - wavefunction
    - multideterminant
---

# Determinants and Configuration State Functions

Determinant files specify the multideterminant expansion of the trial wavefunction in quantum Monte Carlo calculations. For systems requiring correlation beyond a single Slater determinant, these files define which molecular orbital configurations contribute to the wavefunction and with what weights. Configuration State Functions (CSFs) provide an alternative spin-adapted representation that ensures proper spin symmetry.

## Overview

The multideterminant trial wavefunction is expressed as:

$$\Psi_T = e^J \sum_{i=1}^{N_{\text{det}}} c_i D_i$$

where:
- $D_i$ is the i-th Slater determinant
- $c_i$ are determinant coefficients
- $e^J$ is the Jastrow factor
- $N_{\text{det}}$ is the number of determinants

Alternatively, using Configuration State Functions:

$$\Psi_T = e^J \sum_{k=1}^{N_{\text{CSF}}} C_k \Phi_k$$

where:
- $\Phi_k$ are spin-adapted CSFs
- $C_k$ are CSF coefficients
- Each CSF is a linear combination of determinants

### Key Concepts

- **Slater determinant**: Antisymmetrized product of molecular orbitals
- **Configuration State Function (CSF)**: Spin-adapted linear combination of determinants
- **CSF map**: Defines how determinants combine to form CSFs
- **Multireference**: Multiple configurations with significant weights
- **Active space**: Orbitals and electrons included in correlation treatment

## File Format

Determinant files (`.det` extension) are stored in the `pool/` directory and are automatically generated by the `trex2champ` converter from TREXIO files or quantum chemistry outputs.

### Complete File Structure

A determinant file can contain up to three sections:

1. **determinants**: Required - specifies determinants and coefficients
2. **csf**: Optional - Configuration State Functions
3. **csfmap**: Optional - mapping between determinants and CSFs

### Example File

```python
# Determinants, CSF, and CSF mapping from the GAMESS output / TREXIO file.
# Converted from the trexio file using trex2champ converter https://github.com/TREX-CoE/trexio_tools
determinants 36 1
-0.92276500 0.08745570 0.08745570 -0.03455773 -0.03455773 0.15892000 -0.00958342 -0.00958342 0.03141700 0.06827967 0.06827967 -0.02315988 -0.02315988 0.01639443 -0.00751472 0.00887972 0.00887972 -0.00751472 0.01639443 0.14336029 0.14336029 -0.06358518 -0.06358518 -0.00177625 -0.00177625 -0.01588657 -0.01588657 0.16425900 0.02504927 0.02504927 0.11380000 0.00560594 0.00560594 0.01069429 0.01069429 -0.04482000
   1    2    3    4    5    6    7    8    9   10   11      1    2    3    4    5    6    7    8    9   10   11
   1    2    3    4    5    6    7    8    9   10   11      1    2    3    4    5    6    7    8    9   10   13
   1    2    3    4    5    6    7    8    9   10   13      1    2    3    4    5    6    7    8    9   10   11
   1    2    3    4    5    6    7    8    9   10   11      1    2    3    4    5    6    7    8    9   11   13
   1    2    3    4    5    6    7    8    9   11   13      1    2    3    4    5    6    7    8    9   10   11
   1    2    3    4    5    6    7    8    9   10   13      1    2    3    4    5    6    7    8    9   10   13
   1    2    3    4    5    6    7    8    9   10   13      1    2    3    4    5    6    7    8    9   11   13
   1    2    3    4    5    6    7    8    9   11   13      1    2    3    4    5    6    7    8    9   10   13
   1    2    3    4    5    6    7    8    9   11   13      1    2    3    4    5    6    7    8    9   11   13
   1    2    3    4    5    6    7    8    9   10   11      1    2    3    4    5    6    7    8    9   10   12
   1    2    3    4    5    6    7    8    9   10   12      1    2    3    4    5    6    7    8    9   10   11
   1    2    3    4    5    6    7    8    9   10   11      1    2    3    4    5    6    7    8    9   11   12
   1    2    3    4    5    6    7    8    9   11   12      1    2    3    4    5    6    7    8    9   10   11
   1    2    3    4    5    6    7    8    9   10   11      1    2    3    4    5    6    7    8    9   12   13
   1    2    3    4    5    6    7    8    9   10   13      1    2    3    4    5    6    7    8    9   11   12
   1    2    3    4    5    6    7    8    9   10   12      1    2    3    4    5    6    7    8    9   11   13
   1    2    3    4    5    6    7    8    9   11   13      1    2    3    4    5    6    7    8    9   10   12
   1    2    3    4    5    6    7    8    9   11   12      1    2    3    4    5    6    7    8    9   10   13
   1    2    3    4    5    6    7    8    9   12   13      1    2    3    4    5    6    7    8    9   10   11
   1    2    3    4    5    6    7    8    9   10   13      1    2    3    4    5    6    7    8    9   10   12
   1    2    3    4    5    6    7    8    9   10   12      1    2    3    4    5    6    7    8    9   10   13
   1    2    3    4    5    6    7    8    9   11   13      1    2    3    4    5    6    7    8    9   11   12
   1    2    3    4    5    6    7    8    9   11   12      1    2    3    4    5    6    7    8    9   11   13
   1    2    3    4    5    6    7    8    9   10   13      1    2    3    4    5    6    7    8    9   12   13
   1    2    3    4    5    6    7    8    9   12   13      1    2    3    4    5    6    7    8    9   10   13
   1    2    3    4    5    6    7    8    9   11   13      1    2    3    4    5    6    7    8    9   12   13
   1    2    3    4    5    6    7    8    9   12   13      1    2    3    4    5    6    7    8    9   11   13
   1    2    3    4    5    6    7    8    9   10   12      1    2    3    4    5    6    7    8    9   10   12
   1    2    3    4    5    6    7    8    9   10   12      1    2    3    4    5    6    7    8    9   11   12
   1    2    3    4    5    6    7    8    9   11   12      1    2    3    4    5    6    7    8    9   10   12
   1    2    3    4    5    6    7    8    9   11   12      1    2    3    4    5    6    7    8    9   11   12
   1    2    3    4    5    6    7    8    9   10   12      1    2    3    4    5    6    7    8    9   12   13
   1    2    3    4    5    6    7    8    9   12   13      1    2    3    4    5    6    7    8    9   10   12
   1    2    3    4    5    6    7    8    9   11   12      1    2    3    4    5    6    7    8    9   12   13
   1    2    3    4    5    6    7    8    9   12   13      1    2    3    4    5    6    7    8    9   11   12
   1    2    3    4    5    6    7    8    9   12   13      1    2    3    4    5    6    7    8    9   12   13
end
csf 20 2
0.92276500 -0.12368100 0.04887200 -0.15892000 0.01355300 -0.03141700 -0.09656200 0.03275300 0.02839600 -0.20274200 -0.00136500 0.08992300 -0.00251200 -0.02246700 -0.16425900 -0.03542500 -0.11380000 0.00792800 0.01512400 0.04482000
0.13390600 -0.08999000 -0.04327600 0.07929200 0.06217900 -0.00658100 0.96025800 -0.00444100 0.01898800 0.15434900 -0.04594200 -0.01868700 0.00187600 0.04520300 -0.06578900 -0.04536600 0.04834200 -0.00269300 -0.04316900 -0.02239200
end
csfmap
20 36 40
1
  1  -1.000000
2
  2  -0.707107
  3  -0.707107
2
  4  -0.707107
  5  -0.707107
1
  6  -1.000000
2
  7  -0.707107
  8  -0.707107
1
  9  -1.000000
2
  10  -0.707107
  11  -0.707107
2
  12  -0.707107
  13  -0.707107
6
  14  0.577350
  15  -0.288675
  16  0.288675
  17  0.288675
  18  -0.288675
  19  0.577350
2
  20  -0.707107
  21  -0.707107
4
  15  -0.500000
  16  -0.500000
  17  -0.500000
  18  -0.500000
2
  22  -0.707107
  23  -0.707107
2
  24  0.707107
  25  0.707107
2
  26  0.707107
  27  0.707107
1
  28  -1.000000
2
  29  -0.707107
  30  -0.707107
1
  31  -1.000000
2
  32  0.707107
  33  0.707107
2
  34  0.707107
  35  0.707107
1
  36  -1.000000
end
```

## Determinants Section

### Format Specification

**Header line**: Number of determinants and types
```python
determinants 36 1
```

Format: `determinants  ndet  nwftype`

- `ndet` = 36: Number of Slater determinants in expansion
- `nwftype` = 1: Number of wavefunction types (typically 1)

**Coefficient line**: Weights for each determinant
```python
-0.92276500 0.08745570 0.08745570 -0.03455773 ... (36 coefficients)
```

- One coefficient per determinant
- Can be positive or negative
- Normalized: $\sum_i c_i^2 = 1$ (typically)
- Leading coefficient usually largest in magnitude

**Determinant specifications**: Orbital occupation lists

Each determinant is specified by two rows:
```python
   1    2    3    4    5    6    7    8    9   10   11      1    2    3    4    5    6    7    8    9   10   11
```

Format per determinant:
- **First row**: Spin-up (α) occupied orbitals
- **Second row**: Spin-down (β) occupied orbitals

**Example breakdown** (first determinant):
```python
# Determinant 1: coefficient = -0.92276500
α electrons: orbitals 1 2 3 4 5 6 7 8 9 10 11  (11 spin-up electrons)
β electrons: orbitals 1 2 3 4 5 6 7 8 9 10 11  (11 spin-down electrons)
```

This is the reference closed-shell configuration (Hartree-Fock ground state).

**Example excited determinant**:
```python
# Determinant 2: coefficient = 0.08745570
α electrons: orbitals 1 2 3 4 5 6 7 8 9 10 11
β electrons: orbitals 1 2 3 4 5 6 7 8 9 10 13  (electron promoted 11→13)
```

This represents a single excitation from orbital 11 to orbital 13 for a β electron.

### Determinant Notation

**Orbital indices**: 
- Start at 1 (Fortran convention)
- Refer to molecular orbitals from the `.lcao` file
- Ordered by occupation (typically ascending)

**Excitation types**:

| Type | Description | Example (from 11-11 ref) |
|------|-------------|--------------------------|
| Reference | Ground state | 11 11 |
| Single α | One spin-up excitation | 13 11 |
| Single β | One spin-down excitation | 11 13 |
| Double αα | Two spin-up excitations | 13 14 11 |
| Double ββ | Two spin-down excitations | 11 13 14 |
| Double αβ | Mixed spin excitation | 13 13 |

## CSF Section (Optional)

Configuration State Functions provide a spin-adapted representation of the wavefunction.

### Format Specification

**Header line**: Number of CSFs and spin multiplicity
```python
csf 20 2
```

Format: `csf  ncsf  multip_of_csf`

- `ncsf` = 20: Number of Configuration State Functions
- `multip_of_csf` = 2: Spin multiplicity (2S+1)
  - 1 = singlet (S=0)
  - 2 = doublet (S=1/2)
  - 3 = triplet (S=1)
  - 4 = quartet (S=3/2)

**CSF coefficients**: Two rows of coefficients
```python
0.92276500 -0.12368100 0.04887200 -0.15892000 ... (20 coefficients for state 1)
0.13390600 -0.08999000 -0.04327600 0.07929200 ... (20 coefficients for state 2)
```

- Number of rows = number of electronic states
- Each row has `ncsf` coefficients
- CSFs are spin-eigenfunctions with proper S and Sz

**Relationship to determinants**:

CSFs are linear combinations of determinants ensuring proper spin symmetry:

$$\Phi_k = \sum_{i=1}^{N_{\text{det}}} a_{ki} D_i$$

where $a_{ki}$ are the CSF expansion coefficients from the csfmap section.

### Advantages of CSF Representation

- **Spin symmetry**: CSFs are eigenfunctions of $\hat{S}^2$ and $\hat{S}_z$
- **Reduced dimension**: Fewer CSFs than determinants for same accuracy
- **Physical interpretation**: CSFs correspond to electronic states
- **Optimization**: More efficient parameter optimization

## CSF Map Section (Optional)

The CSF map defines how determinants combine to form Configuration State Functions.

### Format Specification

**Header line**: Dimensions
```python
csfmap
20 36 40
```

Format: `ncsf  ndet  max_det_in_csf`

- `ncsf` = 20: Number of CSFs (matches csf section)
- `ndet` = 36: Number of determinants (matches determinants section)
- `max_det_in_csf` = 40: Maximum determinants per CSF (allocation size)

**CSF definitions**: One block per CSF

Each CSF block specifies which determinants contribute:

```python
1
  1  -1.000000
```

**Format**:
- First line: Number of determinants in this CSF
- Following lines: `det_index  coefficient`

**Example CSF blocks**:

**CSF 1** (single determinant):
```python
1
  1  -1.000000
```
- Contains only determinant 1
- Coefficient = -1.0
- Pure closed-shell reference

**CSF 2** (two determinants):
```python
2
  2  -0.707107
  3  -0.707107
```
- Linear combination of determinants 2 and 3
- Equal weights: $1/\sqrt{2} \approx 0.707107$
- Spin-adapted singlet combination

**CSF 10** (six determinants):
```python
6
  14  0.577350
  15  -0.288675
  16  0.288675
  17  0.288675
  18  -0.288675
  19  0.577350
```
- Complex spin coupling
- Coefficients ensure proper S=0 state
- $\sqrt{1/3} \approx 0.577350$, $\sqrt{1/12} \approx 0.288675$

### Understanding CSF Coefficients

Common coefficient values arise from Clebsch-Gordan coupling:

| Value | Fraction | Appears in |
|-------|----------|------------|
| 1.000000 | 1 | Single determinant CSF |
| 0.707107 | $1/\sqrt{2}$ | Two-determinant singlet |
| 0.577350 | $1/\sqrt{3}$ | Three-determinant coupling |
| 0.500000 | $1/2$ | Four-determinant coupling |
| 0.408248 | $1/\sqrt{6}$ | Six-determinant coupling |
| 0.288675 | $1/(2\sqrt{3})$ | Complex multiplets |

## Examples

### Example 1: Single Determinant (Hartree-Fock)

**System**: N₂ molecule, closed shell, 14 electrons

**Determinant file** (`N2.det`):
```python
determinants 1 1
1.000000
   1    2    3    4    5    6    7      1    2    3    4    5    6    7
end
```

**Explanation**:

- Single determinant (Hartree-Fock reference)
- Coefficient = 1.0 (normalized)
- 7 spin-up electrons in orbitals 1-7
- 7 spin-down electrons in orbitals 1-7
- Closed-shell ground state

### Example 2: CAS(2,2) - Small Active Space

**System**: H₂ dissociation, 2 electrons in 2 orbitals

**Determinant file** (`H2_cas22.det`):
```python
determinants 4 1
0.932000 0.342000 0.342000 0.092000
   1      1
   2      1
   1      2
   2      2
end
```

**Explanation**:

- 4 determinants: all configurations in CAS(2,2)
- Determinant 1 (0.932): both electrons in orbital 1 (dominant)
- Determinants 2-3 (0.342 each): singly-excited configurations
- Determinant 4 (0.092): both electrons in orbital 2
- Describes bond breaking/forming

### Example 3: Multireference with CSF

**System**: O₂ molecule (triplet ground state)

**Determinant file** (`O2.det`):
```python
determinants 12 1
0.62370 0.45123 0.45123 -0.23456 -0.23456 0.18234 0.18234 -0.12345 -0.12345 0.08123 0.08123 -0.05234
   1    2    3    4    5    6    7    8      1    2    3    4    5    6    7    8
   1    2    3    4    5    6    7    9      1    2    3    4    5    6    7    8
   1    2    3    4    5    6    7    8      1    2    3    4    5    6    7    9
   1    2    3    4    5    6    7    8      1    2    3    4    5    6    8    9
   1    2    3    4    5    6    8    9      1    2    3    4    5    6    7    8
   1    2    3    4    5    6    7    9      1    2    3    4    5    6    7    9
   1    2    3    4    5    6    8    9      1    2    3    4    5    6    7    9
   1    2    3    4    5    6    7    9      1    2    3    4    5    6    8    9
   1    2    3    4    5    6    8    9      1    2    3    4    5    6    8    9
   1    2    3    4    5    6    7   10      1    2    3    4    5    6    7    8
   1    2    3    4    5    6    7    8      1    2    3    4    5    6    7   10
   1    2    3    4    5    6    7   10      1    2    3    4    5    6    7   10
end
csf 8 3
0.62370 -0.63824 0.25735 -0.32245 0.11482 -0.14567 0.09867 -0.05234
end
csfmap
8 12 40
1
  1  1.000000
2
  2  0.707107
  3  0.707107
2
  4  0.707107
  5  0.707107
2
  6  0.707107
  7  0.707107
2
  8  0.707107
  9  0.707107
1
  10  1.000000
1
  11  1.000000
1
  12  1.000000
end
```

**Explanation**:

- 12 determinants describing triplet oxygen
- 8 spin-adapted CSFs (multiplicity = 3, S=1)
- Degenerate π* orbitals (8-9) partially occupied
- CSF map ensures proper triplet spin coupling
- Reference + single and double excitations

### Example 4: Determinants Only (Simplified)

**System**: Water molecule, CISD calculation

**Determinant file** (`water_cisd.det`):
```python
determinants 156 1
0.93245 0.12456 0.11234 0.08923 0.07234 ... (156 coefficients)
   1    2    3    4    5      1    2    3    4    5
   1    2    3    4    6      1    2    3    4    5
   ... (154 more determinant pairs)
end
```

**Explanation**:

- 156 determinants from CISD (singles + doubles)
- No CSF section (determinant representation only)
- Reference + all single and double excitations
- Simpler file structure, acceptable for spin-adapted cases

## Loading Determinant Files in CHAMP

### Standard Loading

Specify the determinant file in the CHAMP input:

```perl
%module general
    title  'Multireference QMC calculation'
    pool   './pool/'
%endmodule

load trexio        $pool/molecule.hdf5
load determinants  $pool/molecule.det
load jastrow       $pool/jastrow.jas

%module electrons
    nup    11
    nelec  22
%endmodule
```

### From TREXIO File

Determinants can be embedded in TREXIO:

```perl
load trexio  $pool/molecule.hdf5
```

The `trex2champ` converter extracts them automatically.

### CSF-based Calculation

To use CSF representation:

```perl
load determinants  $pool/molecule.det  # Contains determinants, csf, csfmap

%module optwf
    optimize_csf  .true.   # Optimize CSF coefficients
%endmodule
```

## Generating Determinant Files

### From TREXIO Files

The `trex2champ` converter automatically extracts determinants:

```bash
trex2champ molecule.hdf5
```

This creates:
- Determinant file with all determinants
- CSF and csfmap sections (if available)
- Properly formatted for CHAMP

### From GAMESS Output

For MCSCF/CASSCF calculations with GAMESS:

```bash
trex2champ molecule.hdf5 --gamess molecule.out
```

This additionally:
- Extracts CSF information from GAMESS output
- Generates complete CSF mapping
- Ensures spin-adapted representation

### From Other Quantum Chemistry Codes

**ORCA**: Export CASSCF to TREXIO
```bash
orca_trexio molecule.out molecule.hdf5
trex2champ molecule.hdf5
```

**Molpro**: Use TREXIO interface
```bash
molpro molecule.inp --export-trexio molecule.hdf5
trex2champ molecule.hdf5
```

**PySCF**: Python script to generate TREXIO
```python
from pyscf import gto, mcscf
from trexio import File

mol = gto.M(atom='O 0 0 0; O 0 0 1.2', basis='ccpvtz')
mc = mcscf.CASSCF(mol, 4, 4)
mc.kernel()

# Export to TREXIO
with File('O2.hdf5', 'w') as f:
    # ... write basis, orbitals, determinants
```

Then:
```bash
trex2champ O2.hdf5
```

## Determinant Selection and Truncation

### Importance Sampling

For large CI expansions, select important determinants:

**Natural orbital truncation**:
- Keep determinants with occupation numbers > threshold
- Typical threshold: 0.001-0.01

**Energy-based selection**:
- Include determinants contributing to energy
- PT2-based importance sampling

**Coefficient truncation**:
- Keep determinants with $|c_i| > c_{\text{min}}$
- Renormalize remaining coefficients

### Truncation Example

Original CISD: 10,000 determinants

After truncation with $c_{\text{min}} = 0.001$:
```python
determinants 250 1
0.93245 0.12456 0.11234 0.08923 ... (250 coefficients, |c| > 0.001)
... (250 determinant pairs)
end
```

**Verification**:
- Check sum of squares: $\sum_{i=1}^{250} c_i^2 \approx 0.998$ (> 99.8% of norm)
- Compare energy with full CI
- Monitor variance in QMC

## Common Issues

### Determinant Count Mismatch

**Error**:
```
ERROR: Expected 36 determinants, found 35 in file
```

**Solution**: Verify file has exactly `ndet` determinant specifications (pairs of orbital lists).

### Orbital Index Out of Range

**Error**:
```
ERROR: Orbital index 25 exceeds number of orbitals (20)
```

**Solution**: Ensure all orbital indices in determinants exist in the `.lcao` file.

### Normalization Warning

**Warning**:
```
WARNING: Determinant coefficients not normalized, sum = 0.875
```

**Solution**: Renormalize coefficients: $c_i' = c_i / \sqrt{\sum_j c_j^2}$

### Electron Count Mismatch

**Error**:
```
ERROR: Determinant 5 has 10 up electrons, expected 11
```

**Solution**: Check each determinant has correct number of occupied orbitals for nup/ndn.

### CSF-Determinant Inconsistency

**Error**:
```
ERROR: CSF map references determinant 40, but only 36 exist
```

**Solution**: Verify csfmap determinant indices are within range [1, ndet].

## Advanced Topics

### State-Averaged Calculations

For multiple electronic states:

```python
csf 20 2
# State 1 (ground)
0.93245 -0.12456 0.08923 ... (20 coefficients)
# State 2 (excited)
0.15432 0.87234 -0.32145 ... (20 coefficients)
end
```

Each row represents a different electronic state with same spin symmetry.

### Spin Contamination

Check spin purity:

$$\langle S^2 \rangle = S(S+1)$$

For singlet: $\langle S^2 \rangle$ should be 0
For doublet: $\langle S^2 \rangle$ should be 0.75
For triplet: $\langle S^2 \rangle$ should be 2.0

CSF representation guarantees spin purity; determinant representation may have contamination.

### Determinant Optimization

Optimize both orbital coefficients and CI coefficients:

```perl
%module optwf
    nopt_iter        20
    method           'lin_d'
    optimize_ci      .true.    # Optimize CI coefficients
    optimize_orbs    .true.    # Optimize orbital rotations
%endmodule
```

### Selected CI Methods

Modern approaches for large active spaces:

- **CIPSI**: Configuration Interaction using Perturbative Selection Iteratively
- **SHCI**: Semistochastic Heat-bath CI
- **FCIQMC**: Full CI Quantum Monte Carlo
- **DMRG**: Density Matrix Renormalization Group

These generate determinant lists with thousands to millions of determinants.

## Best Practices

### File Organization

- Store determinant files in `pool/` directory
- Use descriptive names indicating method and active space
- Keep TREXIO source file for reference
- Document active space definition

### Verification Checklist

- [ ] Determinant count matches header specification
- [ ] All orbital indices within valid range
- [ ] Coefficients sum of squares ≈ 1.0
- [ ] Electron count consistent for all determinants
- [ ] CSF/csfmap dimensions consistent (if present)
- [ ] Spin multiplicity correct for system

### Quality Checks

1. **Coefficient distribution**: Leading coefficient should be > 0.7 for stable systems
2. **Excitation level**: Check maximum excitation rank
3. **Spin contamination**: Use CSF for spin-pure states
4. **Convergence**: Verify determinant space is adequate

### Optimization Strategy

1. **Start simple**: Single determinant (HF) for initial VMC
2. **Add correlation**: CISD or small CAS
3. **Expand gradually**: Increase active space systematically
4. **Monitor convergence**: Check energy and variance improvement
5. **Optimize parameters**: Optimize both Jastrow and CI coefficients

## Related Topics

- [Molecular Orbitals](orbitals.md) - Orbitals used in determinants
- [Jastrow Factors](jastrow.md) - Complement to determinant expansion
- [TREXIO Files](using_trexio_file.md) - Source of determinant data
- [Wavefunction Optimization](../calculations/optimization/index.md) - Optimizing CI coefficients
- [VMC Calculations](../calculations/vmc/index.md) - Using multideterminant wavefunctions

## Getting Help

- Always use `trex2champ` for reliable determinant file generation
- Verify file structure matches specification exactly
- Check that all determinants have correct electron count
- Ensure orbital indices correspond to existing MOs
- Test with known systems before custom determinant lists
- For CSF issues, verify csfmap consistency
- Consult [Troubleshooting Guide](../troubleshooting/index.md) for common errors

!!! tip "Simplified Files"
    For closed-shell systems or when CSF information is not needed, you can use determinant-only files. Simply include the `determinants` section and omit `csf` and `csfmap` sections.

!!! warning "Spin Consistency"
    Each determinant must have exactly `nup` occupied orbitals in the α (spin-up) list and `ndn` occupied orbitals in the β (spin-down) list, where `nup + ndn = nelec`.

!!! note "CSF Benefits"
    Using CSF representation ensures spin-pure states and typically requires fewer parameters to optimize, leading to more stable and physically meaningful wavefunctions. When available, prefer CSF-based files from MCSCF calculations.